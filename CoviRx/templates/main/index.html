<!DOCTYPE html>
<html>
<head>
    {% load static %}
    <meta charset="utf-8" />
    <meta name="description" content="Covid19 Drug Repurposing database." />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>{% block title %}CoviRx: Covid19 Drug Repurposing Database{% endblock %}</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css" />
    <link rel="stylesheet" href={% static "main/css/main.css"%} />
    {% block extra_head %}
    <link rel="stylesheet" href={% static "main/css/home.css"%} />
    <link rel="stylesheet" href="https://simeydotme.github.io/jQuery-ui-Slider-Pips/dist/css/jqueryui.min.css" />
    <link rel="stylesheet" href="https://simeydotme.github.io/jQuery-ui-Slider-Pips/dist/css/jquery-ui-slider-pips.min.css" />
    <link rel="stylesheet" href={% static "main/css/flat_slider.css"%} />
    {% endblock %}
</head>
<body>
    {% block header %}
    <nav class="navbar navbar-expand-lg navbar-dark">
        <div class="container-fluid">
            <a class="navbar-brand" href="/">CoviRx</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#header" aria-controls="header" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="header">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                    <li class="nav-item">
                        <a class="nav-link" href="/">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">Purpose</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">Team</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="{% url 'contact' %}">Contact</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="{% url 'citations' %}">Citations</a>
                    </li>
                </ul>
                <a class="header-login" href="/admin/">
                    Login
                    <i class="bi bi-person-circle"></i>
                </a>
            </div>
        </div>
    </nav>
    {% endblock %}
    {% if messages %}
    <ul class="messages">
        {% for message in messages %}
        <li  {% if message.tags %} class=" {{ message.tags }} " {% endif %}> {{ message }} </li>
        {% endfor %}
    </ul>
    {% endif %}

    {% block content %}
    <div class="sidenav-modal"></div>
    <div class="container">
        <h1>CoviRx</h1>
        <h2>Covid19 Drug Repurposing Database</h2>
        <div class="input-group" id="main-search">
            <input type="text" class="form-control" id="keyword">
            <button class="input-group-text" id="search">
                <i class="bi bi-search" aria-hidden="true"></i>&nbsp;Search Drug
            </button>
        </div>
        <div id="advanced-search" class="row">
            <div class="col-4">
                {% for field in fields|slice:"0:4" %}
                <div class="form-group row adv-search-field-col adv-search-field-col-{{ field }}">
                    <label for="{{ field }}-keyword" class="col-sm-3 col-form-label"></label>
                    <div class="col-sm-8">
                        <input type="text" class="form-control" id="{{ field }}-keyword" placeholder="{{ field }}">
                    </div>
                </div>
                {% endfor %}
            </div>
            <div class="col-4">
                {% for field in fields|slice:"4:8" %}
                <div class="form-group row adv-search-field-col adv-search-field-col-{{ field }}">
                    <label for="{{ field }}-keyword" class="col-sm-3 col-form-label"></label>
                    <div class="col-sm-8">
                        <input type="text" class="form-control" id="{{ field }}-keyword" placeholder="{{ field }}">
                    </div>
                </div>
                {% endfor %}
                <button class="input-group-text" id="adv_search">
                    <i class="bi bi-search" aria-hidden="true"></i>&nbsp;Search Drug
                </button>
            </div>
            <div class="col-3">
                <div class="suggestions-slider">
                    <div class="title"> Choose the number of suggestions to display </div>
                    <div id="flat-slider-vertical-3" style="z-index: 0;"></div>
                </div>
            </div>
        </div>
        <div id="suggestions"></div>
        <div id="identifier-sidenav" class="identifier-sidenav">
            <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
            <label for="identifiers" class="form-label">Select the identifier to search for in the database</label>
            <form id="identifiers">
            {% for field in fields%}
            <label class="identifier-container"> {{ field }}
                <input type="radio" class="identifier" name="identifier" value={{ field }} {% if field == "name" %}checked="checked"{% endif %} >
                <span class="checkmark"></span>
            </label>
            {% endfor %}
            </form>
        </div>
        <div id="sidenav-button">
            <button id="change-identifier-btn" class="btn btn-success mx-1 my-1" onclick="openNav()">Change Identifier</button>
            <button id="advanced-search-btn" class="btn btn-primary mx-1 my-1" onclick="toggleAdvancedSearch()">Enable Advanced Search</button>
            <h4><p>Current Identifier:&nbsp;</p><p id="showIdentifier"></p></h4>
        </div>
    </div>
    {% endblock content %}
</body>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
<script src={% static "main/js/jquery-3.6.0.min.js"%} type="text/javascript"></script>
{% block footer_scripts %}
<script src={% static "main/js/jquery-ui.min.js"%} type="text/javascript"></script>
<script src="https://simeydotme.github.io/jQuery-ui-Slider-Pips/dist/js/jquery-ui-slider-pips.js"></script>
<script src="https://unpkg.com/smiles-drawer@1.0.10/dist/smiles-drawer.min.js"></script>
<script src={% static "main/js/home.js"%} type="text/javascript"></script>
{% endblock footer_scripts %}
</html>
